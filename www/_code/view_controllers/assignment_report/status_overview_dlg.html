<nl-dlg dlgtitle='Status overview' show-help='0' show-close='1'>
<nl-dlg-content>
    <div class='row row-center margin0 padding0'
         style='height: 36px; overflow: hidden; border-bottom: 1px solid rgba(0, 0, 0, 0.1)'>
        <div class='col fsh6 padding0 fyellow'>
            <div ng-show='filtersPresent'>
                <i class="icon ion-alert-circled"></i> One or more filters are applied.
            </div>
        </div>
        <span title='Filter'
              class='nl-toolbar-icon'
              ng-click='onFilter($event)'>
            <i class="icon ion-funnel"></i>
        </span>
    </div>

    <div class='padding-mid'></div>
    <div class='padding-mid'>
        <div class='fsh3 text-center'>
            <span ng-show='stats.passed + stats.failed < stats.students'
            >{{stats.passed + stats.failed}} of {{stats.students}} completed</span>
            <span ng-hide='stats.passed + stats.failed < stats.students'
            >{{stats.students}} completed modules</span>
        </div>
        <div class='text-center padding-vertical' style='height: 300px'>
            <canvas class="chart chart-doughnut"
                    chart-data="data.completionData"
                    chart-labels="data.completionLabel"
                    chart-colours="data.completionColor">
            </canvas>
        </div>
    </div>

    <div ng-show='stats.totalMaxScore > 0 && stats.totalScore > 0'
         class='padding-mid'>
        <div class='fsh3 text-center'>
            Average score: {{stats.avgPerc}}%
        </div>
        <div class='text-center padding-vertical' style='height: 300px'>
            <canvas
                class="chart chart-bar"
                chart-data="data.percDistData"
                chart-labels="data.percDistLabel"
                chart-series="['series A']">
            </canvas>
        </div>
    </div>              

    <nl-leaderboard-assign ng-if='stats.reptype == "assignment"'>
    </nl-leaderboard-assign>
    <nl-leaderboard-group ng-if='stats.reptype == "group"'>
    </nl-leaderboard-group>
    <nl-leaderboard-user ng-if='stats.reptype == "user"'>
    </nl-leaderboard-user>
</nl-dlg-content>
</nl-dlg>