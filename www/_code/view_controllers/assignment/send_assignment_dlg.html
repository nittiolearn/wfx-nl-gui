<nl-dlg show-help='0' dlgtitle='{{assignInfo.dlgTitle ? assignInfo.dlgTitle : "Send assignment"}}'>
<nl-dlg-content>
     <div class='row row-center padding-mid margin0'
         ng-hide='assignInfo.assigntype == "training"'>
        <div ng-class='resp2Col33' class='padding0' 
             ng-hide='screenSize == "small"'>
            <img ng-if='assignInfo.icon != "icon:"' class='nl-max-100' ng-src='{{assignInfo.icon}}'>
            <div ng-if='assignInfo.icon == "icon:"' class='fsh4'><i class='fsh1 ion-ios-bookmarks fblue'></i></div>
        </div>
        <div ng-class='resp2Col67' class='padding0'>
            <div class='row row-center padding0 margin0'>
                <img class='nl-max-50 padding-small'
                     ng-if='screenSize == "small" && assignInfo.icon && assignInfo.icon != "icon:"'
                     ng-src='{{assignInfo.icon}}'>
                <div ng-if='assignInfo.icon == "icon:" && screenSize == "small"' class='fsh4'><i class='fsh1 ion-ios-bookmarks fblue'></i></div>
                <span class='col fsh4 padding-small'>{{assignInfo.title}}</span>
            </div>
            <div ng-hide='screenSize == "small"'>
                <div ng-show='assignInfo.authorName' class='padding-small'>by: <b>{{assignInfo.authorName}}</b></div>
                <div ng-show='assignInfo.subjGrade' class='padding-small'>{{assignInfo.subjGrade}}</div>
                <div ng-show='assignInfo.description' class='padding-small'>{{assignInfo.description}}</div>
            </div>
        </div>
    </div>

	<nl-dlg-row ng-show='assignInfo.isModify && assignInfo.assigntype == "lesson"' attr='update_content' data='data' help='help'>
        <nl-checkbox fieldmodel='update_content'
                     fieldname='update the content of assignment with latest approved module content'
                     fieldcls= 'padding-mid'
                     fieldindex="0">
        </nl-checkbox>
	</nl-dlg-row>

	<nl-dlg-row ng-show='assignInfo.assigntype != "training"' attr='batchname' data='data' help='help'>
		<nl-input fieldmodel='batchname' fieldtype='text' fieldCls='w100'></nl-input>
	</nl-dlg-row>

	<nl-dlg-row ng-show='assignInfo.isModify' attr='Already added users'>
		<div>{{addedUserStr}}</div>
	</nl-dlg-row>
	<nl-dlg-row ng-show='data.ouUserTree.data.length > 0' attr='ouUserTree' data='data' help='help'>
		<div style='padding:4px'>
	        <nl-tree-select info='data.ouUserTree' tabindex='0' autofocus=''>
	        </nl-tree-select>
		</div>
	</nl-dlg-row>

	<nl-dlg-row ng-show='assignInfo.showDateField' attr='starttime' data='data' help='help'>
		<div style='padding:4px'>
	        <nl-date-time-select fieldmodel='starttime'></nl-date-time-select>
		</div>
	</nl-dlg-row>

	<nl-dlg-row ng-show='assignInfo.showDateField' attr='endtime' data='data' help='help'>
		<div style='padding:4px'>
	        <nl-date-time-select fieldmodel='endtime'></nl-date-time-select>
		</div>
        </nl-dlg-row>

        <div ng-show='data.milestoneItems.length > 0'>
                <hr>
                <div class='padding-mid fsh5'>Milestones:</div>
                <nl-dlg-row ng-repeat='item in data.milestoneItems track by item.typeId'
                        data='data' help='help' attr='{{item.typeId}}'>
                        <div style='padding:4px'>
                        <nl-date-time-select fieldmodel='{{item.typeId}}'></nl-date-time-select>
                        </div>
                </nl-dlg-row>
                <hr>
        </div>
        
	<nl-dlg-row attr='submissionAfterEndtime' data='data' help='help'
         ng-show='assignInfo.enableSubmissionAfterEndtime && data.endtime'>
        <nl-checkbox fieldmodel='submissionAfterEndtime' 
                     fieldname='allow users to submit assignment after end time'
                     fieldcls= 'padding-mid'
                     fieldindex="0">
        </nl-checkbox>
        </nl-dlg-row>

	<nl-dlg-row ng-show='assignInfo.assigntype == "lesson"' attr='maxduration' data='data' help='help'>
        <nl-input fieldmodel='maxduration' fieldtype='number' fieldcls='w100'></nl-input>
	</nl-dlg-row>

	<nl-dlg-row ng-show='assignInfo.assigntype == "lesson" && !assignInfo.isModify' attr='showAnswers' data='data' help='help'>
		<nl-select fieldmodel='showAnswers'></nl-select>
	</nl-dlg-row>

	<nl-dlg-row ng-show='assignInfo.assigntype != "training" && !assignInfo.isModify' attr='forum' data='data' help='help'>
        <nl-checkbox fieldmodel='forum' 
                     fieldname='allow users to discuss in the forum'
                     fieldcls= 'padding-mid'
                     fieldindex="0">
        </nl-checkbox>
	</nl-dlg-row>

	<nl-dlg-row ng-show='enableEmailNotifications && data.isEmailNotificationEnable()' attr='sendEmail' data='data' help='help'>
        <nl-checkbox fieldmodel='sendEmail'
                     fieldname='notify learners by email'
                     fieldcls= 'padding-mid'
                     fieldindex="0">
        </nl-checkbox>
	</nl-dlg-row>

	<nl-dlg-row ng-show='assignInfo.blended' attr='batchParams' data='data' help='help'>
        <div class='padding-mid'>
        <button type="button" ng-click='data.onModifyDetails()'>
                Modify training batch details
        </button> 
        </div>
	</nl-dlg-row>

	<nl-dlg-row attr='remarks' data='data' help='help'>
        <nl-textarea fieldmodel='remarks' fieldcls='w100'></nl-textarea>
	</nl-dlg-row>

</nl-dlg-content>
</nl-dlg>
