<nl-dlg dlgTitle='Update training batch' show-help='0'>
<nl-dlg-content>
<div class='row row-top row-stretch padding0 margin0 nl-85vh'>
	<!------------------------------------------------------------------------------------- 
		Left Pane with TreeList of Items
	-------------------------------------------------------------------------------------->
	<div class='nl-thin-scroll-mh100 nl-max-300 nl-min-200 nl-border-right'>
		<div class='nl-dlg-field-value padding-mid'
			 ng-show='options.dlgtype.length > 1'>
			<select ng-model='data.dlgtype' 
					ng-change='onDlgTypeChange($event)'
					ng-options='elem as elem.name for elem in options.dlgtype track by elem.id'
					autofocus=''
					tabindex="0">
			</select>
		</div>
		<div class='padding-mid fsh5' ng-show='options.dlgtype.length <= 1'>{{dlgtype.name}}</div>
		<div ng-repeat='cm in modules' class='row row-center margin0' style='padding: 8px'>
			<div style='width: {{cm.indentationLevel*16}}px'></div>
			<div class='row row-center margin0 padding-mid nl-cv-item nl-link-text {{selectedModule.id == cm.id ? "selected" : ""}}'
				ng-click='onLeftPaneItemClick($event, cm)'>
				<div ng-show='cm.type == "module"' style='width: 20px'>
					<i ng-show='!cm.isOpen' class="icon ion-arrow-right-b bold fsh3"></i>
					<i ng-show='cm.isOpen' class="icon ion-arrow-down-b bold fsh3"></i>
				</div>
				<div class='col'>
					<span class='{{cm.asdSession ? "forange2" : ""}}'>{{getItemName(cm)}}</span>
				</div>
				<div ng-show='cm.lockedOnItem' style='width: 20px'>
					<i class="icon ion-locked fgrey fsh5"></i>
				</div>
				<div ng-show='cm.validationErrorMsg' style='width: 20px'>
					<i class="icon icon ion-close-circled forange fsh5"></i>
				</div>
				<div ng-show='!cm.validationErrorMsg && cm.isMarkingComplete' style='width: 20px'>
					<i class="icon ion-checkmark-circled fgreen fsh5"></i>
				</div>
			</div>
		</div>
	</div>

	<!------------------------------------------------------------------------------------- 
		Right Pane with Content for selected item
	-------------------------------------------------------------------------------------->
	<div class='col padding-mid nl-thin-scroll-mh100 nl-min-750'>
		<div ng-if='!selectedModule || selectedModule.type == "module"' class='fsh5'>
			 Please select an item to update.
		</div>
		<div ng-if='selectedModule.type == "iltsession"'
			 ng-include='"view_controllers/learning_reports/update_attendance_tab.html"'>
		</div>
		<div ng-if='selectedModule.type == "rating"'
			 ng-include='"view_controllers/learning_reports/update_rating_tab.html"'>
		</div>
		<div ng-if='selectedModule.type == "milestone"'
			 ng-include='"view_controllers/learning_reports/update_milestone_tab.html"'>
		</div>
	</div>
</div>
</nl-dlg-content>
</nl-dlg>