<style>
.minw-number {
    min-width: 120px;
}

.minw-name {
    min-width: 300px;
}

.minw-string {
    width: 175px;
    min-width: 150px;
    white-space: nowrap;
    text-overflow: ellipsis;
    overflow: hidden;    
}

.nl-bg-dark-blue {
    background-color:#CCCCDD;     
}
.nl-perc-class {
    font-size: 85%; 
    padding-top: 6px;
}
.nl-plHeader{
    width: 50%;
    text-align: center;
}
.nl-plLengthCompress{
    display: -webkit-box;
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;
    overflow: hidden;
}
</style>
<div class='nl-learning-report-body padding-small nl-thin-scroll' style='position:absolute; width: 100%; height: 100%'>
<div> <!-- Dummy div to solve scrolled view disappears with popup issue #701 -->
 
    <!-- **************************************************************
         Tool bar and title
    ******************************************************************* -->
    <div class='nl-topsection'>
        <div class='row row-center margin0 padding0 bb1'
            style='height: 36px; overflow: hidden;'>
            <div class='col text-center padding-mid nl-dkonlg-lgondk-text' style='height: 36px; overflow: hidden'>
                <span ng-show='filterStr && screenSize == "large"'>{{filterStr}}</span>
                <span ng-show='fetchInProgress' class='forange fsh6 anim fade fsmall1'
                    title='Fetching the data from server. Please wait ...'>
                    <i class="icon ion-alert-circled padding-mid"></i>
                    <span class='padding-mid'>Fetching</span>
                </span>
                <span ng-show='!fetchInProgress && noDataFound' class='forange fsh6 padding-mid anim fade'
                    title='Please select the time range to fetch the reports'>
                    <i class="icon ion-alert-circled padding-mid"></i>
                    <span class='padding-mid'>Select the time range.</span>
                </span>    
                <span ng-show='!fetchInProgress && canFetchMore' class='forange fsh6 margin0 padding-mid anim fade'
                    title="Not all records are fetched from the server. Click on 'Fetch more' toolbar icon to fetch more records.">
                    <i class="icon ion-alert-circled padding-mid"></i>
                    <span class='padding-mid'>More available.</span>
                </span>
                <span ng-show='tabData.records.length > 0 && !fetchInProgress' class='fgrey fsh6 margin0 padding-mid anim fade fsmall1'
                    title="Fetch completed.">
                    <i class="icon ion-checkmark-circled"></i>
                    <span class='padding-mid'>Fetched.
                    </span>
                </span>
            </div>
            <nl-table-view-selector ng-show='nhtViewSelectorConfig && (tabData.selectedTab.id == "nhtrunning" || tabData.selectedTab.id == "nhtclosed")'
                config=nhtViewSelectorConfig></nl-table-view-selector>
            <nl-table-view-selector ng-show='lrViewSelectorConfig && tabData.selectedTab.id == "learningrecords"'
                config=lrViewSelectorConfig></nl-table-view-selector>
            <span ng-repeat='tb in toolbar'
                title='{{tb.title}}'
                class='nl-toolbar-icon'
                ng-show='canShowToolbarIcon(tb.id)'
                ng-click='tb.onClick()'>
                <i class="icon {{tb.icon}}">{{tb.icon_content}}</i>
            </span>
        </div>
        <div class='padding-small'></div>
        <div ng-show='filterStr && screenSize != "large"' class='fsh6 nl-dkonlg-lgondk-text padding-mid anim fade'>
            {{filterStr}} 
        </div>    

        <!-- **************************************************************
            Search box
        ******************************************************************* -->
        <div>
            <div class='row row-center padding0 margin0'>
                <input class='col padding-mid default-input dark-default-input' ng-model='tabData.search'
                    placeholder='{{tabData.searchPlaceholder}}'
                    ng-keydown='tabData.onSearch($event)'>
                <div class='padding-small'></div>
                <i class='nl-link-text nl-toolbar-icon2 fsh3 icon fblue padding-mid ion-ios-search'
                    ng-click='tabData.onSearch(null)'>
                </i>
                <div class='padding-small'></div>
                <div ng-click='tabData.onFilter(null)'
                     class='{{filterCount > 0 ? "forange" : "nl-toolbar-icon2"}} nl-link-text padding-mid'>
                     <div class='row row-top padding0 margin0'>
                        <i class='icon fsh4 ion-funnel'></i>
                        <span ng-if='filterCount' class='nl-superscript'>{{filterCount}}</span>
                     </div>
                </div>
            </div>
        </div>
    </div>
    <div class='padding-small'></div>
    <div class='row row-top row-stretch padding0 margin0'>
        <!-- **************************************************************
            Left tabs
        ******************************************************************* -->
        <div style='padding-right:0px'>
            <div ng-repeat='tb in tabData.tabs'
                 ng-if='tb.canShow'
                 class='nl-link-text nl-show-tooltip {{(tb.id == tabData.selectedTab.id) ? "nl-left-tab-selected" : "nl-left-tab"}}'>
                <div class='padding-mid row row-center margin0' 
                     ng-click='tabData.onTabSelect(tb)'>
                    <div>
                        <span class='nl-toolbar-icon no-hover row row-top padding0 margin0'>
                            <i ng-if='tb.icon' class="icon {{tb.icon}}"></i>
                            <i ng-if='tb.iconsuperscript' class="iconsuperscript">{{tb.iconsuperscript}}</i>
                        </span>
                    </div>
                </div>
                <div class='nl-tooltip'>{{tb.name}}</div>
            </div>
        </div>
        <!-- **************************************************************
            Content area
        ******************************************************************* -->
        <div class='col nl-left-tabbed-content bt1 sandbox padding0' style='overflow: auto; height: {{getContTabHeight($event)}}px'>
            <!-- **************************************************************
                Nothing to display tab
            ******************************************************************* -->
            <div ng-if='tabData.nothingToDisplay'
                class='anim-enter fade fsh5 padding nl-dkonlg-lgondk-text'>
                <span>No data is available to display.</span>
                <span ng-show='tabData.isFilterApplied'>Check for applied filters by clicking on the filter button.</span>
            </div>
            <!-- **************************************************************
                Overview tab
            ******************************************************************* -->
            <div ng-if='tabData.selectedTab.id == "overview" && !tabData.processingOnging'
                class='anim-enter1 flyfrom-l'>
                <div ng-if='screenSize != "small"' >
                    <div class='row row-center padding-mid margin0 text-center'><div class='col fsh4 nl-dkonlg-lgondk-text'>Learners</div></div>
                    <div class='row row-center row-wrap row-justify-evenly text-center padding0 margin0'>
                        <div class='col padding nl-min-580' >
                            <div class='row row-center row-wrap row-justify-evenly text-center padding0 margin0'> 
                                <nl-summary-box-lg ng-repeat='item in overviewDict.learner[0]' class='col padding0' data='item'>
                                </nl-summary-box-lg>
                            </div>
                        </div>
                        <div class='col padding'>
                            <nl-summary-box-large class='col' data='overviewDict.learner[1]'>
                            </nl-summary-box-large>
                        </div>
                    </div>    
                    <div class='row row-center padding-mid margin0 text-center'><div class='col fsh4 nl-dkonlg-lgondk-text'>{{overviewDict.title1}}</div></div>
                    <div class='row row-center row-wrap row-justify-evenly text-center padding0 margin0'>
                        <div class='col padding nl-min-580'>
                            <div class='row row-center row-wrap row-justify-evenly text-center padding0 margin0'>
                                <nl-summary-box-lg ng-repeat='item in overviewDict.reports[0]' class='col padding0' data='item'>
                                </nl-summary-box-lg>
                            </div>
                        </div>
                        <div class='col padding'>
                            <nl-summary-box-large class='col' data='overviewDict.reports[1]'>
                            </nl-summary-box-large>
                        </div>
                    </div>    
                </div>
                <div ng-if='screenSize == "small"'>
                    <div class='row row-center padding-mid margin0 text-center'><div class='col fsh4 nl-dkonlg-lgondk-text'>Learners</div></div>
                    <div class='row row-center row-wrap row-justify-evenly text-center padding0 margin0'>
                        <div ng-class='$root.respCol111'
                            ng-repeat='item in overviewDict.learner[0]'>
                            <nl-summary-box-sm class='col padding0'data='item'>
                            </nl-summary-box-sm>
                        </div>
                    </div>
                    <div class='row row-center row-wrap row-justify-evenly text-center padding0 margin0'>
                        <div ng-class='$root.respCol111'>
                            <nl-summary-box-large1 class='col padding0' data='overviewDict.learner[1]'>
                            </nl-summary-box-large1>
                        </div>
                    </div>    
                    <div class='row row-center padding-mid margin0 text-center'><div class='col fsh4 nl-dkonlg-lgondk-text'>{{overviewDict.title1}}</div></div>
                    <div class='row row-center row-wrap row-justify-evenly text-center padding0 margin0'>
                        <div ng-class='$root.respCol111'
                            ng-repeat='item in overviewDict.reports[0]'>                    
                            <nl-summary-box-sm class='col padding0'data='item'>
                            </nl-summary-box-sm>
                        </div>
                    </div>
                    <div class='row row-center row-wrap row-justify-evenly text-center padding0 margin0'>
                        <div ng-class='$root.respCol111'>
                            <nl-summary-box-large1 class='col padding0' data='overviewDict.reports[1]'>
                            </nl-summary-box-large1>
                        </div>
                    </div>    
                </div>
                <div class='row row-top row-wrap margin0 padding0'>
                    <div ng-class='$root.respCol211' class='text-center padding-mid'>
                        <div class='fsh5 padding-mid nl-dkonlg-lgondk-text'>{{charts[0].title}}</div>
                        <div class='row row-center row-wrap pading0 margin0'>
                            <div ng-class='$root.respCol221'>
                                <div class='padding-small'></div>
                                <div class='padding-small'></div>
                                <div style='margin: auto; display:block; max-height:300px; max-width:300px'>
                                    <canvas class='chart chart-pie'
                                            height='250'
                                            width='250'
                                            chart-data='charts[0].data'
                                            chart-labels='charts[0].labels'
                                            chart-colors='charts[0].colors'
                                            chart-series='charts[0].series'
                                            chart-options='charts[0].options'>
                                    </canvas>
                                </div>        
                             </div>
                             <div ng-class='$root.respCol221'>
                                <ul class="pie_chart_label1">
                                    <li class="certified_label lables">Certified</li>
                                    <li class="failed_label lables">Failed</li>
                                    <li class="started_label lables">Started(Ongoing)</li>
                                    <li class="pending_label lables">Yet To Start</li>
                                </ul>
                             </div>
                        </div>
                    </div>
                    <div ng-class='$root.respCol211' class='text-center padding-mid'>
                        <div class='fsh5 padding-mid nl-dkonlg-lgondk-text'>{{charts[1].title}}</div>
                        <div class='padding-mid'></div>
                        <div class="chart-heading-position-lr nl-display-flex">
                            <div class="assigned-bar"><span>Assigned</span></div><br>
                            <div class="completed-bar"><span>Completed</span></div>
                        </div>
                        <div style='margin: auto; display:block; height:300px; width:450px'>
                            <canvas class='chart chart-bar'
                                chart-data='charts[1].data'
                                chart-labels='charts[1].labels'
                                chart-colors='charts[1].colors'
                                chart-series='charts[1].series'
                                chart-options='charts[1].options'>
                            </canvas>
                        </div>
                    </div>
                </div>
            </div>
            <div ng-if='tabData.selectedTab.id == "overview1" && !tabData.processingOnging'
                class='anim-enter1 flyfrom-l'>
                <div class='row row-center row-wrap row-justify-evenly text-center padding0 margin0'>
                    <div ng-class='{{moduleidEnable ? "$root.respCol221" : "$root.respCol331"}}' style='width: 100%'
                        ng-repeat='item in overviewArray1'>
                        <nl-summary-box number='item.perc' 
                            title='item.title' 
                            class='col padding0 small-summary-box'
                            desc='item.desc'
                            showperc='item.showperc'>
                        </nl-summary-box>
                    </div>
                </div>

                <div class='row row-top row-wrap margin0 padding0'>
                    <div ng-class='$root.respCol221' class='text-center padding-mid'>
                        <div class='padding-small'></div>
                        <div class='fsh5 padding-mid nl-dkonlg-lgondk-text'>{{charts[0].title}}</div>
                        <div class='padding-small'></div>
                        <div style='margin: auto; display:block; max-height:300px; max-width:300px'>
                            <canvas class='chart chart-doughnut'
                                    height='250'
                                    width='250'
                                    chart-data='charts[0].data'
                                    chart-labels='charts[0].labels'
                                    chart-colors='charts[0].colors'
                                    chart-series='charts[0].series'
                                    chart-options='charts[0].options'>
                            </canvas>
                        </div>
                    </div>
                    <div ng-class='$root.respCol221' class='text-center padding-mid'>
                        <div class='padding-small'></div>
                        <div class='fsh5 padding-mid nl-dkonlg-lgondk-text'>{{charts[1].title}}</div>
                        <div class='padding-mid'></div>
                        <div style='margin: auto; display:block; height:300px; width:450px'>
                            <canvas class='chart chart-bar'
                                chart-data='charts[1].data'
                                chart-labels='charts[1].labels'
                                chart-colors='charts[1].colors'
                                chart-series='charts[1].series'
                                chart-options='charts[1].options'>
                            </canvas>
                        </div>
                    </div>
                </div>
            </div>
            <!-- **************************************************************
            NHT Overview tab
            ******************************************************************* -->
            <div ng-show='tabData.selectedTab.id == "nhtoverview" && !tabData.processingOnging'
                class='anim-enter1 flyfrom-l'>
                <div class='row row-center row-wrap row-justify-evenly padding0 margin0'>
                    <div ng-class='$root.resp3Col80'>
                        <div class='row row-center row-wrap row-justify-evenly text-center padding0 margin0'>
                            <div ng-class='$root.respCol331' 
                                ng-repeat='overview in nhtOverviewInfo.firstInfoGraphics'>
                                <div  style='width: 100%'>
                                    <nl-summary-box number='overview.perc' 
                                        title='overview.title' 
                                        class='col padding0 small-summary-box'
                                        desc='overview.desc'
                                        showperc='overview.showperc'>
                                    </nl-summary-box>
                                </div>
                            </div>
                        </div>
                        <div class='row row-center row-wrap row-justify-evenly text-center padding0 margin0'>
                            <div ng-class='$root.respCol331' 
                                ng-repeat='overview in nhtOverviewInfo.secondInfoGraphics'>
                                <div  style='width: 100%'>
                                    <nl-summary-box number='overview.perc' 
                                        title='overview.title' 
                                        class='col padding0 small-summary-box'
                                        desc='overview.desc'
                                        showperc='overview.showperc'>
                                    </nl-summary-box>
                                </div>
                            </div>
                        </div>
                        <div class='row row-center row-wrap row-justify-evenly text-center padding0 margin0'>
                            <div ng-class='$root.respCol331' 
                                ng-repeat='overview in nhtOverviewInfo.thirdInfoGraphics'>
                                <div  style='width: 100%'>
                                    <nl-summary-box number='overview.perc' 
                                        title='overview.title' 
                                        class='col padding0 small-summary-box'
                                        desc='overview.desc'
                                        showperc='overview.showperc'>
                                    </nl-summary-box>
                                </div>
                            </div>
                        </div>
                        <div class='row row-center row-wrap row-justify-evenly text-center padding0 margin0'>
                            <div ng-class='$root.respCol331' 
                                ng-repeat='overview in nhtOverviewInfo.fourthInfoGraphics'>
                                <div  style='width: 100%'>
                                    <nl-summary-box number='overview.perc' 
                                        title='overview.title' 
                                        class='col padding0 small-summary-box'
                                        desc='overview.desc'
                                        showperc='overview.showperc'>
                                    </nl-summary-box>
                                </div>
                            </div>
                        </div>
                    </div> 
                    <div ng-class='$root.resp3Col20'
                        style='min-width: 150px;min-height:150px' class='text-center'>
                        <div ng-show='nhtOverviewInfo.showChart'>
                            <div class='fsh5 padding-mid nl-dkonlg-lgondk-text' style='text-align: center'>Initial HC split</div>
                            <div style='margin: auto; display:block; max-height:300px; max-width:300px'>
                                <canvas class='chart chart-doughnut'
                                        height='150'
                                        width='150'
                                        chart-data='nhtOverviewInfo.chartData[0].data'
                                        chart-labels='nhtOverviewInfo.chartData[0].labels'
                                        chart-colors='nhtOverviewInfo.chartData[0].colors'
                                        chart-series='nhtOverviewInfo.chartData[0].series'
                                        chart-options='nhtOverviewInfo.chartData[0].options'>
                                </canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- **************************************************************
                Learning records tab
            ******************************************************************* -->
            <div ng-show='tabData.selectedTab.id == "learningrecords" && !tabData.processingOnging'
                class='anim-enter1 flyfrom-t padding-mid'>
                <div class='row row-center margin0 padding0 text-left'>
                    <div class='col fsh5 padding-mid'></div>
                    <div>
                        <nl-navigation-section data="utable"></nl-navigation-section>
                    </div>
                    <div class='padding-mid'>
                    </div>
                </div>    
                <div class='padding-small'></div>
                <nl-table info='utable'></nl-table>
           </div>

        <!-- **************************************************************
            Page lavel records tab with charts
        ******************************************************************* -->
            <div ng-show='tabData.selectedTab.id == "pagelevelrecords"  && !tabData.processingOnging'>
                <div ng-if='pageLevelInfo.visibleRows.length == 0'
                    class='anim-enter fade fsh5 padding'>
                    <span class="error-text">No completed module, page level score is not available.</span>
                </div>
                <div ng-if='pageLevelInfo.visibleRows.length > 0' class='anim-enter {{getAnimClass("charts")}}'>
                    <nl-page-level-score pageleveldata='pageLevelInfo'></nl-page-level-score>
                </div>
            </div>
         
            <!-- **************************************************************
                Time Summary tab
            *******************************************************************-->
            <div ng-if='tabData.selectedTab.id == "timesummary"  && !tabData.processingOnging'
                class='anim-enter1 flyfrom-l padding-mid'>
                <div ng-repeat='timeSummaryChart in timeSummaryCharts'>
                    <div class='padding-small'></div>
                    <div class='fsh5 padding-mid nl-dkonlg-lgondk-text'>{{timeSummaryChart.title}}</div>
                    <div ng-if='timeSummaryChart.subtitle' class='fgrey padding-mid'><i>({{timeSummaryChart.subtitle}})</i></div>
                    <div class='padding-small'></div>
                    <div style='overflow-x: {{timeSummaryChart.data[0].length > 50 ? "scroll" : "none"}};'>
                        <div style='width: {{(timeSummaryChart.data[0].length > 50) ? "200": (timeSummaryChart.data[0].length > 120) ? "300" : ""}}%; max-height: 300px; display:block'>
                            <canvas class='chart chart-bar'
                                    height='300'
                                    width='100%'
                                    chart-data='timeSummaryChart.data'
                                    chart-labels='timeSummaryChart.labels'
                                    chart-colors='timeSummaryChart.colors'
                                    chart-series='timeSummaryChart.series'
                                    chart-options='timeSummaryChart.options'>
                            </canvas>
                        </div>
                    </div>
                </div>
            </div>
            <!-- **************************************************************
                Drill down tab
            ******************************************************************* -->
            <div ng-show='tabData.selectedTab.id == "drilldown"  && !tabData.processingOnging'
                class='anim-enter1 flyfrom-l' style='width: {{checkOverflow($event) ? "fit-content" : ""}}'>
                <nl-lr-drilldown-tab drilldowndata='drillDownInfo'></nl-lr-drilldown-tab>
            </div>
            <!-- **************************************************************
                NHT Running Batches tab
            ******************************************************************* -->
            <div ng-show='tabData.selectedTab.id == "nhtrunning" && !tabData.processingOnging'
                class='anim-enter1 flyfrom-l'>
                <nl-lr-nht-tab nht='nhtRunningInfo'></nl-lr-nht-tab>
            </div>
            <!-- **************************************************************
                NHT Closed Batches tab
            ******************************************************************* -->
            <div ng-show='tabData.selectedTab.id == "nhtclosed" && !tabData.processingOnging'
                class='anim-enter1 flyfrom-l'>
                <nl-lr-nht-tab nht='nhtClosedInfo'></nl-lr-nht-tab>
            </div>
            <!-- **************************************************************
                NHT Batch Attendance tab
            ******************************************************************* -->
            <div ng-show='tabData.selectedTab.id == "nhtbatchattendance"  && !tabData.processingOnging'
                class='padding-mid anim-enter1 flyfrom-l' style='width: {{checkOverflow($event) ? "fit-content" : ""}}'>
                <div class='padding-small fgrey' ng-if='iltBatchInfo.isMoreCols'>
                    Showing 65 of {{iltBatchInfo.totalCnt}} recent session dates. Please export NHT batch attendance to view all session dates.
                </div>
                <div class='padding-small fgrey' ng-if='iltBatchInfo.rowCnt > 100'>
                    Showing 100 of {{iltBatchInfo.rowCnt}}. Please apply filter to see specific records.
                </div>
                <table class='nl-table nl-table-styled3 rowlines'>
                    <tr class='header'>
                        <td ng-repeat='col in iltBatchInfo.columns track by $index'
                            class='{{col.class}}'>
                            <div>{{col.name || '-'}}</div>
                        </td>
                    </tr>
                    <tr ng-repeat='rec in iltBatchInfo.visibleRows track by $index' class='{{rec.class}}'>
                        <td ng-repeat='col in iltBatchInfo.columns track by $index'
                            class='{{col.class}} nl-txt-white'>
                            {{rec[col.id] || '-'}}
                        </td>
                    </tr>
                </table>            
            </div>
            <!-- **************************************************************
                Certificate tab
            ******************************************************************* -->
            <div ng-show='tabData.selectedTab.id == "certificate"  && !tabData.processingOnging'
                class='padding-mid anim-enter1 flyfrom-l' style='width: {{checkOverflow($event) ? "fit-content" : ""}}'
                ng-include='"view_controllers/learning_reports/lr_certificate_tabdata.html"'>
            </div>
        </div>
    </div>
</div> <!-- Dummy div to solve scrolled view disappears with popup issue #701 -->
</div>
