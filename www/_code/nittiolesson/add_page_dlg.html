<style>
    .popup_props_preview {
        position: relative;
        top: 0;
        height: 400px;
        left: 1%;
        width: 98%;
        box-shadow: inset 0 0 5px rgba(200,200,255,0.8);
        background-color: rgba(0, 0, 0, 0.1);
    }
    .popup_props_preview2 {
        position: absolute;
        top: 6%;
        height: 86%;
        left: 4%;
        width: 92%;
        box-shadow: inset 0 0 5px rgba(200,200,255,0.8);
    }
    .popup_props_sec {
        position: absolute;
        background-color: rgba(0, 0, 128, 0.8);
    }
</style>
<nl-dlg title='{{dlgTitle}}'
        show-help='{{showHelp}}'
        show-close='{{showClose}}'>
<nl-dlg-content>
<div>
    <nl-dlg-row attr='pagetype' data='data' help='help'>
        <nl-select fieldmodel='pagetype'></nl-select>
    </nl-dlg-row> 
    <nl-dlg-row attr='layout' data='data' help='help'>
        <nl-select fieldmodel='layout'></nl-select>
    </nl-dlg-row>
	<div class='row row-top row-wrap padding0 margin0' ng-show='!data.showLayoutEdit'>
	    <div ng-class='resp2Col33' class='padding-mid'></div>
	    <div ng-class='resp2Col67'>
			<span class='nl-dlg-field-value'>
				<button type="button" ng-keypress='$event.keyCode == 13  ? data.showLayoutEdit = !data.showLayoutEdit : ""' ng-click='data.showLayoutEdit = !data.showLayoutEdit'>Edit layout attributes</button>
			</span>
		</div>
	</div>
	<div ng-show='data.showLayoutEdit' class='nl-dlg-field-value'>
		<nl-textarea fieldmodel='sectionLayout' fieldcls='nl-fixed-width'></nl-textarea>
		<div style='padding:8px 4px'>
			<button type="button" ng-keypress='$event.keyCode == 13 ? editLayoutDone() : "" ' ng-click='editLayoutDone()'>Done</button>
		</div>
	</div>
    <nl-dlg-row attr='preview' data='data' help='help'>
        <div class='popup_props_preview'>
            <div class='popup_props_preview2'>
                <div ng-repeat='sec in sections'
                     style='top: {{sec.t}}%; left: {{sec.l}}%; height: {{sec.h}}%; width: {{sec.w}}%'
                     class='popup_props_sec'>
                </div>
            </div>
        </div>
    </nl-dlg-row>
</div>
</nl-dlg-content>
</nl-dlg>
