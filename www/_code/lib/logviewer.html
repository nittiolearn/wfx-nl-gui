<style>
    .nl-log-dlg-config TD {
        text-align: left;
        border-bottom: 1px dotted #DDDDFF;
        padding: 5px;
    }

    .nl-log-dlg-config TD INPUT {
        text-align: left;
        width: auto;
    }

    .nl-log-dlg-box {
        border-bottom: 1px solid #DDDDFF;
    }
        
    .nl-log-dlg-box input {
        background-color: #EEEEFF;
        border: 1px dotted black;
        padding: 5px;
    }

    .nl-log-entry {
        border-bottom: 1px solid #DDDDFF;
        padding: 5px;
        line-height: 150%;
    }
</style>

<nl-dlg title='Log Viewer'>
    <nl-dlg-help>Use this window to view and configure console logs from the application code.</nl-dlg-help>
    <nl-dlg-content>
        <div><button ng-click='logConfig.toggleLogConfig()'>{{logConfig.showHideLable}}</button></div>
        <table class='nl-log-dlg-config' ng-show='logConfig.showLogConfig'>
            <tr>
                <td>Store logs</td>
                <td><input type='checkbox' ng-model='logConfig.storeLogs'></input></td>
            </tr>
            <tr>
                <td>Current log level</td>
                <td>
                    <select ng-model="logConfig.currentLogLevel" convert-to-number>
                        <option ng-repeat='opt in logConfig.LOG_LEVEL_TEXTS' value="{{$index}}" ng-selected="$index == logConfig.currentLogLevel">{{opt}}</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td>Max log count</td>
                <td><input type='number' ng-model='logConfig.maxLogCount'></input></td>
            </tr>
            <tr>
                <td>Low water mark</td>
                <td><input type='number' ng-model='logConfig.lowWaterMark'></input></td>
            </tr>
            <tr>
                <td>Total available logs</td>
                <td>{{logConfig.recentLogs.length}} <button ng-click='logConfig.clearLogs()'>Clear Logs</button></td>
            </tr>
        </table>

        <div class='nl-log-dlg-box'>
            </span><input type='text' ng-model='filter' autofocus placeholder="Filter">
            <h4>{{(logConfig.recentLogs | filter:filter).length}} of {{logConfig.recentLogs.length}} logs displayed.</h4>
        </div>

        <div ng-repeat='log in logs = (logConfig.recentLogs | filter:filter)' class='nl-log-entry'>
            {{log.pos}}: {{log.logtime}} <b>{{log.level}}</b> {{log.msg}} {{log.args}}
        </div>
    </nl-dlg-content>
</nl-dlg>
